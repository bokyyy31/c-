#include <stdio.h>

int main()
{
    int stock_in[5] = { 0, 0, 0, 0, 0 };
    int sold[5] = { 0, 0, 0, 0, 0 };
    int stock[5] = { 0, 0, 0, 0, 0 };

    int menu;
    int i;

    printf("[쇼핑몰 관리 프로그램]\n");

   
    while (1)
    {
        printf("\n");
        printf("> 원하는 메뉴를 선택하세요.(1.입고, 2.판매, 3.상품현황, 4.종료) \n");
        printf("> ");
        scanf("%d", &menu);

        if (menu == 1) 
        {
            int input_type;
            printf("> 입고수량 입력 : 전체 상품 입고 수량 입력 1. 개별 상품 입력 2를 선택\n");
            scanf("%d", &input_type);

            if (input_type == 1) 
            {
                for (i = 0; i < 5; i++)
                {
                    int input_amount;
                    scanf("%d", &input_amount);
                    stock_in[i] = stock_in[i] + input_amount;
                    stock[i] = stock_in[i] - sold[i]; 
                }
            }
            else if (input_type == 2) 
            {
                int product_id, input_amount;
                printf("상품ID : ");
                scanf("%d", &product_id);
                printf("입고수량 : ");
                scanf("%d", &input_amount);

                stock_in[product_id - 1] = stock_in[product_id - 1] + input_amount;
                stock[product_id - 1] = stock_in[product_id - 1] - sold[product_id - 1]; 
            }
        }
        else if (menu == 2) 
        {
            int input_type;
            printf("> 판매수량 입력 : 전체 상품 판매 수량 입력 1. 개별 상품 입력 2를 선택\n");
            scanf("%d", &input_type);

            if (input_type == 1) 
            {
                for (i = 0; i < 5; i++)
                {
                    int sell_amount;
                    scanf("%d", &sell_amount);
                    sold[i] = sold[i] + sell_amount;
                    stock[i] = stock_in[i] - sold[i]; 
                }
            }
            else if (input_type == 2) 
            {
                int product_id, sell_amount;
                printf("상품ID : ");
                scanf("%d", &product_id);
                printf("판매수량 : ");
                scanf("%d", &sell_amount);

                sold[product_id - 1] = sold[product_id - 1] + sell_amount;
                stock[product_id - 1] = stock_in[product_id - 1] - sold[product_id - 1]; 
            }
        }
        else if (menu == 3) 
        {
         
            printf("재고 수량 : ");
            for (i = 0; i < 5; i++)
            {
                printf("%d", stock[i]);
                if (i < 4)
                {
                    printf(" ");
                }
            }
            printf("\n");

            
            int total_sold = 0;
            int total_in = 0;
            for (i = 0; i < 5; i++)
            {
                total_sold = total_sold + sold[i];
                total_in = total_in + stock_in[i];
            }

            double sell_rate = 0.0;
            if (total_in > 0)
            {
                sell_rate = (double)total_sold / total_in * 100;
            }
            printf("총 판매량 : %d (판매율 %.2f%%)\n", total_sold, sell_rate);

          
            int max_sold = sold[0];
            int max_id = 1;
            for (i = 1; i < 5; i++)
            {
                if (sold[i] > max_sold)
                {
                    max_sold = sold[i];
                    max_id = i + 1;
                }
            }
            printf("가장 많이 판매된 상품 : ID %d, 판매량 %d\n", max_id, max_sold);

         
            int min_sold = sold[0];
            int min_id = 1;
            for (i = 1; i < 5; i++)
            {
                if (sold[i] < min_sold)
                {
                    min_sold = sold[i];
                    min_id = i + 1;
                }
            }
            printf("가장 적게 판매된 상품 : ID %d, 판매량 %d\n", min_id, min_sold);

         
            for (i = 0; i < 5; i++)
            {
                if (stock[i] <= 2)
                {
                    printf("상품 ID %d : 재고부족(%d)\n", i + 1, stock[i]);
                }
            }
        }
        else if (menu == 4) 
        {
            printf("프로그램 종료\n");
            break;
        }
    }

    return 0;
}
